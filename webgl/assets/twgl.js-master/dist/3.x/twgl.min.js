/*!
 * @license twgl.js 3.8.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():e.twgl=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){var n,a;n=[t(1)],a=function(e){"use strict";return e}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(2),t(5),t(7),t(6),t(8),t(3),t(9),t(4)],a=function(e,r,t,n,a,o,i,u){"use strict";function f(r){u.copyExistingProperties(r,T),e.setDefaults_(r),a.setDefaults_(r)}function l(e,r){var t=e.getExtension(r);if(t){var n=A.exec(r)[1],a="_"+n;for(var o in t){var i=t[o],u="function"==typeof i,f=u?n:a,l=o;o.endsWith(f)&&(l=o.substring(0,o.length-f.length)),void 0!==e[l]?u||e[l]===i||console.warn(l,e[l],i,o):u?e[l]=function(e){return function(){return e.apply(t,arguments)}}(i):e[l]=i}}return t}function s(e){for(var r=0;r<v.length;++r)l(e,v[r])}function c(e,r){for(var t=["webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){T.addExtensionsToContext&&s(n);break}return n}function m(e,r){var t=c(e,r);return t}function y(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){T.addExtensionsToContext&&s(n);break}return n}function E(e,r){var t=y(e,r);return t}function b(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;return(e.width!==t||e.height!==n)&&(e.width=t,e.height=n,!0)}function d(e){return"_"!==e[e.length-1]}function p(e,r){return Object.keys(e).filter(d).forEach(function(t){r[t]=e[t]}),r}var T={addExtensionsToContext:!0},A=/^(.*?)_/,v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","WEBGL_draw_buffers"],x={addExtensionsToContext:s,getContext:E,getWebGLContext:m,isWebGL1:u.isWebGL1,isWebGL2:u.isWebGL2,resizeCanvasToDisplaySize:b,setDefaults:f},R={attributes:e,draw:r,framebuffers:t,programs:n,textures:a,typedArrays:o,vertexArrays:i};return Object.keys(R).forEach(function(e){var r=R[e];p(r,x),x[e]=p(r,{})}),x}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(3),t(4)],a=function(e,r){"use strict";function t(e){x.attribPrefix=e}function n(e){r.copyExistingProperties(e,x)}function a(e,r,t,n,a){e.bindBuffer(r,t),e.bufferData(r,n,a||e.STATIC_DRAW)}function o(e,r,t,n){if(r instanceof WebGLBuffer)return r;t=t||e.ARRAY_BUFFER;var o=e.createBuffer();return a(e,t,o,r,n),o}function i(e){return"indices"===e}function u(e){return e instanceof Int8Array||e instanceof Uint8Array}function f(e){return e===Int8Array||e===Uint8Array}function l(e){return e.length?e:e.data}function s(e,r){var t;if(t=R.test(e)?2:_.test(e)?4:3,r%t>0)throw"Can not guess numComponents for attribute '"+e+"'. Tried "+t+" but "+r+" values is not evenly divisible by "+t+". You should specify it.";return t}function c(e,r){return e.numComponents||e.size||s(r,l(e).length)}function m(r,t){if(e.isArrayBuffer(r))return r;if(e.isArrayBuffer(r.data))return r.data;Array.isArray(r)&&(r={data:r});var n=r.type;return n||(n=i(t)?Uint16Array:Float32Array),new n(r.data)}function y(r,t){var n={};return Object.keys(t).forEach(function(a){if(!i(a)){var l,y,E,b,d,p=t[a],T=p.attrib||p.name||p.attribName||x.attribPrefix+a;if("number"==typeof p||"number"==typeof p.data){d=p.data||p;var A=p.type||Float32Array,v=d*A.BYTES_PER_ELEMENT;y=e.getGLTypeForTypedArrayType(A),E=void 0!==p.normalize?p.normalize:f(A),b=p.numComponents||p.size||s(a,d),l=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,v,p.drawType||r.STATIC_DRAW)}else{var R=m(p,a);l=o(r,R,void 0,p.drawType),y=e.getGLTypeForTypedArray(R),E=void 0!==p.normalize?p.normalize:u(R),b=c(p,a),d=R.length}n[T]={buffer:l,numComponents:b,type:y,normalize:E,stride:p.stride||0,offset:p.offset||0,divisor:void 0===p.divisor?void 0:p.divisor,drawType:p.drawType}}}),r.bindBuffer(r.ARRAY_BUFFER,null),n}function E(e,r,t,n){t=m(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):a(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)}function b(e,r){return r===e.BYTE?1:r===e.UNSIGNED_BYTE?1:r===e.SHORT?2:r===e.UNSIGNED_SHORT?2:r===e.INT?4:r===e.UNSIGNED_INT?4:r===e.FLOAT?4:0}function d(e){for(var r,t=0;t<F.length&&(r=F[t],!(r in e));++t);t===F.length&&(r=Object.keys(e)[0]);var n=e[r],a=l(n).length,o=c(n,r),i=a/o;if(a%o>0)throw"numComponents "+o+" not correct for length "+a;return i}function p(e,r){for(var t,n=0;n<F.length&&(t=F[n],!(t in r))&&(t=x.attribPrefix+t,!(t in r));++n);n===F.length&&(t=Object.keys(r)[0]);var a=r[t];e.bindBuffer(e.ARRAY_BUFFER,a.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var i=b(e,a.type),u=o/i,f=a.numComponents||a.size,l=u/f;if(l%1!==0)throw"numComponents "+f+" not correct for length "+length;return l}function T(r,t){var n={attribs:y(r,t)},a=t.indices;return a?(a=m(a,"indices"),n.indices=o(r,a,r.ELEMENT_ARRAY_BUFFER),n.numElements=a.length,n.elementType=e.getGLTypeForTypedArray(a)):n.numElements=p(r,n.attribs),n}function A(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,a=m(r,t);return o(e,a,n)}function v(r,t){var n={};return Object.keys(t).forEach(function(e){n[e]=A(r,t[e],e)}),t.indices?(n.numElements=t.indices.length,n.elementType=e.getGLTypeForTypedArray(m(t.indices),"indices")):n.numElements=d(t),n}var x={attribPrefix:""},R=/coord|texture/i,_=/color|colour/i,F=["position","positions","a_position"];return{createAttribsFromArrays:y,createBuffersFromArrays:v,createBufferFromArray:A,createBufferFromTypedArray:o,createBufferInfoFromArrays:T,setAttribInfoBufferFromArray:E,setAttributePrefix:t,setDefaults_:n,getNumComponents_:c,getArray_:l}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[],a=function(){"use strict";function e(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return a;if(e instanceof Uint8ClampedArray)return a;if(e instanceof Int16Array)return o;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return u;if(e instanceof Uint32Array)return f;if(e instanceof Float32Array)return l;throw"unsupported typed array type"}function r(e){if(e===Int8Array)return n;if(e===Uint8Array)return a;if(e===Uint8ClampedArray)return a;if(e===Int16Array)return o;if(e===Uint16Array)return i;if(e===Int32Array)return u;if(e===Uint32Array)return f;if(e===Float32Array)return l;throw"unsupported typed array type"}function t(e){var r=A[e];if(!r)throw"unknown gl type";return r}var n=5120,a=5121,o=5122,i=5123,u=5124,f=5125,l=5126,s=32819,c=32820,m=33635,y=5131,E=33640,b=35899,d=35902,p=36269,T=34042,A={},v=A;v[n]=Int8Array,v[a]=Uint8Array,v[o]=Int16Array,v[i]=Uint16Array,v[u]=Int32Array,v[f]=Uint32Array,v[l]=Float32Array,v[s]=Uint16Array,v[c]=Uint16Array,v[m]=Uint16Array,v[y]=Uint16Array,v[E]=Uint32Array,v[b]=Uint32Array,v[d]=Uint32Array,v[p]=Uint32Array,v[T]=Uint32Array;var x=window.SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof window.SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};return{getGLTypeForTypedArray:e,getGLTypeForTypedArrayType:r,getTypedArrayTypeForGLType:t,isArrayBuffer:x}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[],a=function(){"use strict";function e(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function r(e,r,t){e.forEach(function(e){var n=r[e];void 0!==n&&(t[e]=n)})}function t(e,r){Object.keys(r).forEach(function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])})}function n(e){return!!e.texStorage2D}function a(e){return!e.texStorage2D}var o=window.console&&window.console.error&&"function"==typeof window.console.error?window.console.error.bind(window.console):function(){},i=window.console&&window.console.warn&&"function"==typeof window.console.warn?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:t,copyNamedProperties:r,shallowCopy:e,isWebGL1:a,isWebGL2:n,error:o,warn:i}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(6)],a=function(e){"use strict";function r(e,r,t,n,a,o){t=void 0===t?e.TRIANGLES:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;a=void 0===a?0:a,u||i?void 0!==o?e.drawElementsInstanced(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a,o):e.drawElements(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a):void 0!==o?e.drawArraysInstanced(t,a,f,o):e.drawArrays(t,a,f)}function t(t,n){var a=null,o=null;n.forEach(function(n){if(n.active!==!1){var i=n.programInfo,u=n.vertexArrayInfo||n.bufferInfo,f=!1,l=void 0===n.type?t.TRIANGLES:n.type;i!==a&&(a=i,t.useProgram(i.program),f=!0),(f||u!==o)&&(o&&o.vertexArrayObject&&!u.vertexArrayObject&&t.bindVertexArray(null),o=u,e.setBuffersAndAttributes(t,i,u)),e.setUniforms(i,n.uniforms),r(t,u,l,n.count,n.offset,n.instanceCount)}}),o.vertexArrayObject&&t.bindVertexArray(null)}return{drawBufferInfo:r,drawObjectList:t}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(4)],a=function(e){"use strict";function r(e,r){return Ze[r].bindPoint}function t(e,r){return function(t){e.uniform1f(r,t)}}function n(e,r){return function(t){e.uniform1fv(r,t)}}function a(e,r){return function(t){e.uniform2fv(r,t)}}function o(e,r){return function(t){e.uniform3fv(r,t)}}function i(e,r){return function(t){e.uniform4fv(r,t)}}function u(e,r){return function(t){e.uniform1i(r,t)}}function f(e,r){return function(t){e.uniform1iv(r,t)}}function l(e,r){return function(t){e.uniform2iv(r,t)}}function s(e,r){return function(t){e.uniform3iv(r,t)}}function c(e,r){return function(t){e.uniform4iv(r,t)}}function m(e,r){return function(t){e.uniform1ui(r,t)}}function y(e,r){return function(t){e.uniform1uiv(r,t)}}function E(e,r){return function(t){e.uniform2uiv(r,t)}}function b(e,r){return function(t){e.uniform3uiv(r,t)}}function d(e,r){return function(t){e.uniform4uiv(r,t)}}function p(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}}function T(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}}function A(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}}function v(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}}function x(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}}function R(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}}function _(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}}function F(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}}function h(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}}function g(t,n,a,o){var i=r(t,n);return e.isWebGL2(t)?function(e){var r=void 0,n=void 0;e instanceof WebGLTexture?(r=e,n=null):(r=e.texture,n=e.sampler),t.uniform1i(o,a),t.activeTexture(t.TEXTURE0+a),t.bindTexture(i,r),t.bindSampler(a,n)}:function(e){t.uniform1i(o,a),t.activeTexture(t.TEXTURE0+a),t.bindTexture(i,e)}}function P(t,n,a,o,i){for(var u=r(t,n),f=new Int32Array(i),l=0;l<i;++l)f[l]=a+l;return e.isWebGL2(t)?function(e){t.uniform1iv(o,f),e.forEach(function(e,r){t.activeTexture(t.TEXTURE0+f[r]);var n=void 0,o=void 0;e instanceof WebGLTexture?(n=e,o=null):(n=e.texture,o=e.sampler),t.bindSampler(a,o),t.bindTexture(u,n)})}:function(e){t.uniform1iv(o,f),e.forEach(function(e,r){t.activeTexture(t.TEXTURE0+f[r]),t.bindTexture(u,e)})}}function U(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||e.FLOAT,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function B(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function w(e,r,t){var n=t.size,a=t.count;return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer);for(var o=t.size||t.numComponents||n,i=o/a,u=t.type||e.FLOAT,f=Ze[u],l=f.size*o,s=t.normalize||!1,c=t.offset||0,m=l/a,y=0;y<a;++y)e.enableVertexAttribArray(r+y),e.vertexAttribPointer(r+y,i,u,s,l,c+m*y),void 0!==t.divisor&&e.vertexAttribDivisor(r+y,t.divisor)}}function I(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}function S(e,r,t,n){var a=n||ne,o=e.createShader(t),i=0;Je.test(r)&&(i=1,r=r.replace(Je,"")),e.shaderSource(o,r),e.compileShader(o);var u=e.getShaderParameter(o,e.COMPILE_STATUS);if(!u){var f=e.getShaderInfoLog(o);return a(I(r,i)+"\n*** Error compiling shader: "+f),e.deleteShader(o),null}return o}function C(e,r,t){if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var n=e;t=n.errorCallback,e=n.attribLocations;var a=n.transformFeedbackVaryings}var o={errorCallback:t||ne,transformFeedbackVaryings:a};if(e){var i={};Array.isArray(e)?e.forEach(function(e,t){i[e]=r?r[t]:t}):i=e,o.attribLocations=i}return o}function L(e){return e.indexOf("frag")>=0?$e.FRAGMENT_SHADER:e.indexOf("vert")>=0?$e.VERTEX_SHADER:void 0}function O(e,r){r.forEach(function(r){e.deleteShader(r)})}function N(e,r,t,n,a){for(var o=C(t,n,a),i=[],u=[],f=0;f<r.length;++f){var l=r[f];if("string"==typeof l){var s=document.getElementById(l),c=s?s.text:l,m=e[Qe[f]];s&&s.type&&(m=L(s.type)||m),l=S(e,c,m,o.errorCallback),u.push(l)}l instanceof WebGLShader&&i.push(l)}if(i.length!==r.length)return o.errorCallback("not enough shaders for program"),O(e,u),null;var y=e.createProgram();i.forEach(function(r){e.attachShader(y,r)}),o.attribLocations&&Object.keys(o.attribLocations).forEach(function(r){e.bindAttribLocation(y,o.attribLocations[r],r)});var E=o.transformFeedbackVaryings;E&&(E.attribs&&(E=E.attribs),Array.isArray(E)||(E=Object.keys(E)),e.transformFeedbackVaryings(y,E,o.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(y);var b=e.getProgramParameter(y,e.LINK_STATUS);if(!b){var d=e.getProgramInfoLog(y);return o.errorCallback("Error in program linking:"+d),e.deleteProgram(y),O(e,u),null}return y}function D(e,r,t,n){var a="",o=document.getElementById(r);if(!o)throw"*** Error: unknown script element"+r;a=o.text;var i=t||L(o.type);if(!i)throw"*** Error: unknown shader type";return S(e,a,i,n)}function M(e,r,t,n,a){for(var o=C(t,n,a),i=[],u=0;u<r.length;++u){var f=D(e,r[u],e[Qe[u]],o.errorCallback);if(!f)return null;i.push(f)}return N(e,i,o)}function z(e,r,t,n,a){for(var o=C(t,n,a),i=[],u=0;u<r.length;++u){var f=S(e,r[u],e[Qe[u]],o.errorCallback);if(!f)return null;i.push(f)}return N(e,i,o)}function G(e,r){function t(r,t){var a=e.getUniformLocation(r,t.name),o=t.size>1&&"[0]"===t.name.substr(-3),i=t.type,u=Ze[i];if(!u)throw"unknown type: 0x"+i.toString(16);var f;if(u.bindPoint){var l=n;n+=t.size,f=o?u.arraySetter(e,i,l,a,t.size):u.setter(e,i,l,a,t.size)}else f=u.arraySetter&&o?u.arraySetter(e,a):u.setter(e,a);return f.location=a,f}for(var n=0,a={},o=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<o;++i){var u=e.getActiveUniform(r,i);if(!u)break;var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var l=t(r,u);a[f]=l}return a}function X(e,r){for(var t={},n=e.getProgramParameter(r,e.TRANSFORM_FEEDBACK_VARYINGS),a=0;a<n;++a){var o=e.getTransformFeedbackVarying(r,a);t[o.name]={index:a,type:o.type,size:o.size}}return t}function k(e,r,t){r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs);for(var n in t){var a=r[n];if(a){var o=t[n];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer)}}}function W(e,r,t){r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs);for(var n in t){var a=r[n];a&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,null)}}function Y(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(r.program),k(e,r,t),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),W(e,r,t),n}function V(e,r){for(var t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),n=[],a=[],o=0;o<t;++o){a.push(o),n.push({});var i=e.getActiveUniform(r,o);if(!i)break;n[o].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var o=t[0],i=t[1];e.getActiveUniforms(r,a,e[o]).forEach(function(e,r){n[r][i]=e})});var u={},f=e.getProgramParameter(r,e.ACTIVE_UNIFORM_BLOCKS);for(o=0;o<f;++o){var l=e.getActiveUniformBlockName(r,o),s={index:o,usedByVertexShader:e.getActiveUniformBlockParameter(r,o,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(r,o,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(r,o,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(r,o,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};s.used=s.usedByVertexSahder||s.usedByFragmentShader,u[l]=s}return{blockSpecs:u,uniformData:n}}function j(e,r,t,n){var a=t.blockSpecs,o=t.uniformData,i=a[n];if(!i)return ae("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(i.size),f=e.createBuffer(),l=i.index;e.bindBuffer(e.UNIFORM_BUFFER,f),e.uniformBlockBinding(r,i.index,l);var s=n+".";er.test(s)&&(s=s.replace(er,"."));var c={};return i.uniformIndices.forEach(function(e){var r=o[e],t=Ze[r.type],n=t.Type,a=r.size*t.size,i=r.name;i.substr(0,s.length)===s&&(i=i.substr(s.length)),c[i]=new n(u,r.offset,a/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:c}}function K(e,r,t){return j(e,r.program,r.uniformBlockSpec,t)}function H(e,r,t){var n=r.uniformBlockSpec||r,a=n.blockSpecs[t.name];if(a){var o=a.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function Z(e,r,t){H(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)}function q(e,r){var t=e.uniforms;for(var n in r){var a=t[n];if(a){var o=r[n];o.length?a.set(o):a[0]=o}}}function $(e,r){for(var t=e.uniformSetters||e,n=arguments.length,a=1;a<n;++a){var o=arguments[a];if(Array.isArray(o))for(var i=o.length,u=0;u<i;++u)$(t,o[u]);else for(var f in o){var l=t[f];l&&l(o[f])}}}function J(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),a=0;a<n;++a){var o=e.getActiveAttrib(r,a);if(!o)break;var i=e.getAttribLocation(r,o.name),u=qe[o.type],f=u.setter(e,i,u);f.location=i,t[o.name]=f}return t}function Q(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function ee(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(Q(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))}function re(r,t){var n=G(r,t),a=J(r,t),o={program:t,uniformSetters:n,attribSetters:a};return e.isWebGL2(r)&&(o.uniformBlockSpec=V(r,t),o.transformFeedbackInfo=X(r,t)),o}function te(e,r,t,n,a){var o=C(t,n,a),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=document.getElementById(e);r?e=r.text:(o.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=z(e,r,o);return u?re(e,u):null}var ne=e.error,ae=e.warn,oe=5126,ie=35664,ue=35665,fe=35666,le=5124,se=35667,ce=35668,me=35669,ye=35670,Ee=35671,be=35672,de=35673,pe=35674,Te=35675,Ae=35676,ve=35678,xe=35680,Re=35679,_e=35682,Fe=35685,he=35686,ge=35687,Pe=35688,Ue=35689,Be=35690,we=36289,Ie=36292,Se=36293,Ce=5125,Le=36294,Oe=36295,Ne=36296,De=36298,Me=36299,ze=36300,Ge=36303,Xe=36306,ke=36307,We=36308,Ye=36311,Ve=3553,je=34067,Ke=32879,He=35866,Ze={};Ze[oe]={Type:Float32Array,size:4,setter:t,arraySetter:n},Ze[ie]={Type:Float32Array,size:8,setter:a},Ze[ue]={Type:Float32Array,size:12,setter:o},Ze[fe]={Type:Float32Array,size:16,setter:i},Ze[le]={Type:Int32Array,size:4,setter:u,arraySetter:f},Ze[se]={Type:Int32Array,size:8,setter:l},Ze[ce]={Type:Int32Array,size:12,setter:s},Ze[me]={Type:Int32Array,size:16,setter:c},Ze[Ce]={Type:Uint32Array,size:4,setter:m,arraySetter:y},Ze[Le]={Type:Uint32Array,size:8,setter:E},Ze[Oe]={Type:Uint32Array,size:12,setter:b},Ze[Ne]={Type:Uint32Array,size:16,setter:d},Ze[ye]={Type:Uint32Array,size:4,setter:u,arraySetter:f},Ze[Ee]={Type:Uint32Array,size:8,setter:l},Ze[be]={Type:Uint32Array,size:12,setter:s},Ze[de]={Type:Uint32Array,size:16,setter:c},Ze[pe]={Type:Float32Array,size:16,setter:p},Ze[Te]={Type:Float32Array,size:36,setter:T},Ze[Ae]={Type:Float32Array,size:64,setter:A},Ze[Fe]={Type:Float32Array,size:24,setter:v},Ze[he]={Type:Float32Array,size:32,setter:R},Ze[ge]={Type:Float32Array,size:24,setter:x},Ze[Pe]={Type:Float32Array,size:48,setter:F},Ze[Ue]={Type:Float32Array,size:32,setter:_},Ze[Be]={Type:Float32Array,size:48,setter:h},Ze[ve]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ve},Ze[xe]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:je},Ze[Re]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ke},Ze[_e]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ve},Ze[we]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:He},Ze[Ie]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:He},Ze[Se]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:je},Ze[De]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ve},Ze[Me]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ke},Ze[ze]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:je},Ze[Ge]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:He},Ze[Xe]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ve},Ze[ke]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:Ke},Ze[We]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:je},Ze[Ye]={Type:null,size:0,setter:g,arraySetter:P,bindPoint:He};var qe={};qe[oe]={size:4,setter:U},qe[ie]={size:8,setter:U},qe[ue]={size:12,setter:U},qe[fe]={size:16,setter:U},qe[le]={size:4,setter:B},qe[se]={size:8,setter:B},qe[ce]={size:12,setter:B},qe[me]={size:16,setter:B},qe[Ce]={size:4,setter:B},qe[Le]={size:8,setter:B},qe[Oe]={size:12,setter:B},qe[Ne]={size:16,setter:B},qe[ye]={size:4,setter:B},qe[Ee]={size:8,setter:B},qe[be]={size:12,setter:B},qe[de]={size:16,setter:B},qe[pe]={size:4,setter:w,count:2},qe[Te]={size:9,setter:w,count:3},qe[Ae]={size:16,setter:w,count:4};var $e=void 0,Je=/^[ \t]*\n/,Qe=["VERTEX_SHADER","FRAGMENT_SHADER"],er=/\[\d+\]\.$/;return{createAttributeSetters:J,createProgram:N,createProgramFromScripts:M,createProgramFromSources:z,createProgramInfo:te,createProgramInfoFromProgram:re,createUniformSetters:G,createUniformBlockSpecFromProgram:V,createUniformBlockInfoFromProgram:j,createUniformBlockInfo:K,createTransformFeedback:Y,createTransformFeedbackInfo:X,bindTransformFeedbackInfo:k,setAttributes:Q,setBuffersAndAttributes:ee,setUniforms:$,setUniformBlock:Z,setBlockUniforms:q,bindUniformBlock:H}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(8),t(4)],a=function(e,r){"use strict";function t(e){return F[e]}function n(e){return h[e]}function a(a,o,i,u){var f=a.FRAMEBUFFER,l=a.createFramebuffer();a.bindFramebuffer(f,l),i=i||a.drawingBufferWidth,u=u||a.drawingBufferHeight,o=o||_;var s=0,c={framebuffer:l,attachments:[],width:i,height:u};return o.forEach(function(o){var l=o.attachment,m=o.format,y=t(m);if(y||(y=p+s++),!l)if(n(m))l=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,l),a.renderbufferStorage(a.RENDERBUFFER,m,i,u);else{var E=r.shallowCopy(o);E.width=i,E.height=u,void 0===E.auto&&(E.auto=!1,E.min=E.min||E.minMag||a.LINEAR,E.mag=E.mag||E.minMag||a.LINEAR,E.wrapS=E.wrapS||E.wrap||a.CLAMP_TO_EDGE,E.wrapT=E.wrapT||E.wrap||a.CLAMP_TO_EDGE),l=e.createTexture(a,E)}if(l instanceof WebGLRenderbuffer)a.framebufferRenderbuffer(f,y,a.RENDERBUFFER,l);else{if(!(l instanceof WebGLTexture))throw"unknown attachment type";a.framebufferTexture2D(f,y,o.texTarget||a.TEXTURE_2D,l,o.level||0)}c.attachments.push(l)}),c}function o(r,t,n,a,o){a=a||r.drawingBufferWidth,o=o||r.drawingBufferHeight,t.width=a,t.height=o,n=n||_,n.forEach(function(n,i){var u=t.attachments[i],f=n.format;if(u instanceof WebGLRenderbuffer)r.bindRenderbuffer(r.RENDERBUFFER,u),r.renderbufferStorage(r.RENDERBUFFER,f,a,o);else{if(!(u instanceof WebGLTexture))throw"unknown attachment type";e.resizeTexture(r,u,n,a,o)}})}function i(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}var u=5121,f=6402,l=6408,s=32854,c=32855,m=36194,y=33189,E=6401,b=36168,d=34041,p=36064,T=36096,A=36128,v=33306,x=33071,R=9729,_=[{format:l,type:u,min:R,wrap:x},{format:d}],F={};F[d]=v,F[E]=A,F[b]=A,F[f]=T,F[y]=T;var h={};return h[s]=!0,h[c]=!0,h[m]=!0,h[d]=!0,h[y]=!0,h[E]=!0,h[b]=!0,{bindFramebufferInfo:i,createFramebufferInfo:a,resizeFramebufferInfo:o}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(3),t(4)],a=function(e,r){"use strict";function t(e,r){var t=Tr[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function n(e){var r=Tr[e];if(!r)throw"unknown internal format";return{format:r.e,type:Array.isArray(r.type)?r.type[0]:r.type}}function a(e){return 0===(e&e-1)}function o(e,t,n,o){if(!r.isWebGL2(e))return a(t)&&a(n);var i=Tr[o];if(!i)throw"unknown internal format";return i.r&&i.t}function i(e){var r=Tr[e];if(!r)throw"unknown internal format";return r.t}function u(e){var r=dr[e];if(!r)throw"unknown format: "+e;return r.n}function f(r,t,n){return M(t)?e.getGLTypeForTypedArray(t):n||r.UNSIGNED_BYTE}function l(e,r,t,n,a){if(a%1!==0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=a/n,t%1))throw"can't guess dimensions"}else if(n=a/t,n%1)throw"can't guess dimensions"}else{var o=Math.sqrt(a/(r===e.TEXTURE_CUBE_MAP?6:1));o%1===0?(t=o,n=o):(t=a,n=1)}return{width:t,height:n}}function s(e){D.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function c(e){r.copyExistingProperties(e,D),e.textureColor&&s(e.textureColor)}function m(e,r){void 0!==r.colorspaceConversion&&(vr.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(vr.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(vr.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function y(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,vr.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,vr.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,vr.flipY)}function E(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||r instanceof xr)&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function b(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),E(e,n,e.texParameteri,t)}function d(e,r,t){E(e,r,e.samplerParameteri,t)}function p(e,r){var t=e.createSampler();return d(e,t,r),t}function T(e,r){var t={};return Object.keys(r).forEach(function(n){t[n]=p(e,r[n])}),t}function A(e){return e=e||D.textureColor,M(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function v(e,r,t,n,a,u,f){t=t||D.textureOptions,u=u||e.RGBA,f=f||e.UNSIGNED_BYTE;var l=t.target||e.TEXTURE_2D;if(n=n||t.width,a=a||t.height,e.bindTexture(l,r),o(e,n,a,u,f))e.generateMipmap(l);else{var s=i(u,f)?e.LINEAR:e.NEAREST;e.texParameteri(l,e.TEXTURE_MIN_FILTER,s),e.texParameteri(l,e.TEXTURE_MAG_FILTER,s),e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function x(e){return e.auto===!0||void 0===e.auto&&void 0===e.level}function R(e,r){return r=r||{},r.cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function _(e,r){var t=R(e,r),n=t.map(function(e,r){return{face:e,ndx:r}});return n.sort(function(e,r){return e.face-r.face}),n}function F(e,r,t,a){a=a||D.textureOptions;var o=a.target||e.TEXTURE_2D,i=a.level||0,u=t.width,f=t.height,l=a.internalFormat||a.format||e.RGBA,s=n(l),c=a.format||s.format,E=a.type||s.type;if(m(e,a),e.bindTexture(o,r),o===e.TEXTURE_CUBE_MAP){var d,p,T=t.width,A=t.height;if(T/6===A)d=A,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===T)d=T,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(T/3===A/2)d=T/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(T/2!==A/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);d=T/2,p=[0,0,1,0,0,1,1,1,0,2,1,2]}z.canvas.width=d,z.canvas.height=d,u=d,f=d,_(e,a).forEach(function(r){var n=p[2*r.ndx+0]*d,a=p[2*r.ndx+1]*d;z.drawImage(t,n,a,d,d,0,0,d,d),e.texImage2D(r.face,i,l,c,E,z.canvas)}),z.canvas.width=1,z.canvas.height=1}else if(o===e.TEXTURE_3D){var R=Math.min(t.width,t.height),F=Math.max(t.width,t.height),h=F/R;if(h%1!==0)throw"can not compute 3D dimensions of element";var g=t.width===F?1:0,P=t.height===F?1:0;e.texImage3D(o,i,l,R,R,R,0,c,E,null),z.canvas.width=R,z.canvas.height=R;for(var U=0;U<h;++U){var B=U*R*g,w=U*R*P,I=R,S=R,C=0,L=0,O=R,N=R;z.drawImage(t,B,w,I,S,C,L,O,N),e.texSubImage3D(o,i,0,0,U,R,R,1,c,E,z.canvas)}z.canvas.width=0,z.canvas.height=0}else e.texImage2D(o,i,l,c,E,t);y(e,a),x(a)&&v(e,r,a,u,f,l,E),b(e,r,a)}function h(){}function g(e,t,n){function a(){u.removeEventListener("error",o),u.removeEventListener("load",i),u=null}function o(){var t="couldn't load image: "+e;r.error(t),n(t,u),a()}function i(){n(null,u),a()}n=n||h;var u=new Image;return t=void 0!==t?t:D.crossOrigin,void 0!==t&&(u.crossOrigin=t),u.addEventListener("error",o),u.addEventListener("load",i),u.src=e,u}function P(e,r,t){t=t||D.textureOptions;var n=t.target||e.TEXTURE_2D;if(e.bindTexture(n,r),t.color!==!1){var a=A(t.color);if(n===e.TEXTURE_CUBE_MAP)for(var o=0;o<6;++o)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a)}}function U(e,t,n,a){a=a||h,n=n||D.textureOptions,P(e,t,n),n=r.shallowCopy(n);var o=g(n.src,n.crossOrigin,function(r,o){r?a(r,t,o):(F(e,t,o,n),a(null,t,o))});return o}function B(e,t,a,o){function i(r){return function(n,i){--p,n?T.push(n):i.width!==i.height?T.push("cubemap face img is not a square: "+i.src):(m(e,a),e.bindTexture(b,t),5===p?R(e).forEach(function(r){e.texImage2D(r,f,l,c,E,i)}):e.texImage2D(r,f,l,c,E,i),y(e,a),x(a)&&e.generateMipmap(b)),0===p&&o(T.length?T:void 0,d,t)}}o=o||h;var u=a.src;if(6!==u.length)throw"there must be 6 urls for a cubemap";var f=a.level||0,l=a.internalFormat||a.format||e.RGBA,s=n(l),c=a.format||s.format,E=a.type||e.UNSIGNED_BYTE,b=a.target||e.TEXTURE_2D;if(b!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";P(e,t,a),a=r.shallowCopy(a);var d,p=6,T=[],A=R(e,a);d=u.map(function(e,r){return g(e,a.crossOrigin,i(A[r]))})}function w(e,t,a,o){function i(r){return function(n,i){if(--d,n)p.push(n);else{
if(m(e,a),e.bindTexture(E,t),_){_=!1,A=a.width||i.width,v=a.height||i.height,e.texImage3D(E,T,f,A,v,R,0,s,c,null);for(var u=0;u<R;++u)e.texSubImage3D(E,T,0,0,u,A,v,1,s,c,i)}else{var l=i;i.width===A&&i.height===v||(l=z.canvas,z.canvas.width=A,z.canvas.height=v,z.drawImage(i,0,0,A,v)),e.texSubImage3D(E,T,0,0,r,A,v,1,s,c,l),l===z.canvas&&(z.canvas.width=0,z.canvas.height=0)}y(e,a),x(a)&&e.generateMipmap(E)}0===d&&o(p.length?p:void 0,b,t)}}o=o||h;var u=a.src,f=a.internalFormat||a.format||e.RGBA,l=n(f),s=a.format||l.format,c=a.type||e.UNSIGNED_BYTE,E=a.target||e.TEXTURE_2D_ARRAY;if(E!==e.TEXTURE_3D&&E!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";P(e,t,a),a=r.shallowCopy(a);var b,d=u.length,p=[],T=a.level||0,A=a.width,v=a.height,R=u.length,_=!0;b=u.map(function(e,r){return g(e,a.crossOrigin,i(r))})}function I(r,a,o,i){i=i||D.textureOptions;var u=i.target||r.TEXTURE_2D;r.bindTexture(u,a);var s=i.width,c=i.height,E=i.depth,b=i.level||0,d=i.internalFormat||i.format||r.RGBA,p=n(d),T=i.format||p.format,A=i.type||f(r,o,p.type);if(M(o))o instanceof Uint8ClampedArray&&(o=new Uint8Array(o.buffer));else{var v=e.getTypedArrayTypeForGLType(A);o=new v(o)}var x=t(d,A),R=o.byteLength/x;if(R%1)throw"length wrong size for format: "+Ar(r,T);var F;if(u===r.TEXTURE_3D)if(s||c||E)!s||c&&E?!c||s&&E?(F=l(r,u,s,c,R/E),s=F.width,c=F.height):(F=l(r,u,s,E,R/c),s=F.width,E=F.height):(F=l(r,u,c,E,R/s),c=F.width,E=F.height);else{var h=Math.cbrt(R);if(h%1!==0)throw"can't guess cube size of array of numElements: "+R;s=h,c=h,E=h}else F=l(r,u,s,c,R),s=F.width,c=F.height;return r.pixelStorei(r.UNPACK_ALIGNMENT,i.unpackAlignment||1),m(r,i),u===r.TEXTURE_CUBE_MAP?!function(){var e=x/o.BYTES_PER_ELEMENT,t=R/6*e;_(r,i).forEach(function(e){var n=t*e.ndx,a=o.subarray(n,n+t);r.texImage2D(e.face,b,d,s,c,0,T,A,a)})}():u===r.TEXTURE_3D?r.texImage3D(u,b,d,s,c,E,0,T,A,o):r.texImage2D(u,b,d,s,c,0,T,A,o),y(r,i),{width:s,height:c,depth:E,type:A}}function S(e,r,t){var a=t.target||e.TEXTURE_2D;e.bindTexture(a,r);var o=t.level||0,i=t.internalFormat||t.format||e.RGBA,u=n(i),f=t.format||u.format,l=t.type||u.type;if(m(e,t),a===e.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,o,i,t.width,t.height,0,f,l,null);else a===e.TEXTURE_3D?e.texImage3D(a,o,i,t.width,t.height,t.depth,0,f,l,null):e.texImage2D(a,o,i,t.width,t.height,0,f,l,null);y(e,t)}function C(e,r,t){t=t||h,r=r||D.textureOptions;var a=e.createTexture(),o=r.target||e.TEXTURE_2D,i=r.width||1,u=r.height||1,f=r.internalFormat||e.RGBA,l=n(f),s=r.type||l.type;e.bindTexture(o,a),o===e.TEXTURE_CUBE_MAP&&(e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var c=r.src;if(c)if("function"==typeof c&&(c=c(e,r)),"string"==typeof c)U(e,a,r,t);else if(M(c)||Array.isArray(c)&&("number"==typeof c[0]||Array.isArray(c[0])||M(c[0]))){var m=I(e,a,c,r);i=m.width,u=m.height,s=m.type}else if(Array.isArray(c)&&"string"==typeof c[0])o===e.TEXTURE_CUBE_MAP?B(e,a,r,t):w(e,a,r,t);else{if(!(c instanceof HTMLElement))throw"unsupported src type";F(e,a,c,r),i=c.width,u=c.height}else S(e,a,r);return x(r)&&v(e,a,r,i,u,f,s),b(e,a,r),a}function L(e,r,t,a,o){a=a||t.width,o=o||t.height;var i=t.target||e.TEXTURE_2D;e.bindTexture(i,r);var u,l=t.level||0,s=t.internalFormat||t.format||e.RGBA,c=n(s),m=t.format||c.format,y=t.src;if(u=y&&(M(y)||Array.isArray(y)&&"number"==typeof y[0])?t.type||f(e,y,c.type):t.type||c.type,i===e.TEXTURE_CUBE_MAP)for(var E=0;E<6;++E)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+E,l,m,a,o,0,m,u,null);else e.texImage2D(i,l,m,a,o,0,m,u,null)}function O(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]}function N(e,r,t){function n(){0===a&&setTimeout(function(){t(o.length?o:void 0,i,u)},0)}t=t||h;var a=0,o=[],i={},u={};return Object.keys(r).forEach(function(t){var f,l=r[t];O(l.src)&&(f=function(e,r,i){u[t]=i,--a,e&&o.push(e),n()},++a),i[t]=C(e,l,f)}),n(),i}var D={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},M=e.isArrayBuffer,z=document.createElement("canvas").getContext("2d"),G=6406,X=6407,k=6408,W=6409,Y=6410,V=6402,j=34041,K=33321,H=36756,Z=33325,q=33326,$=33330,J=33329,Q=33338,ee=33337,re=33340,te=33339,ne=33323,ae=36757,oe=33327,ie=33328,ue=33336,fe=33335,le=33332,se=33331,ce=33334,me=33333,ye=32849,Ee=35905,be=36194,de=36758,pe=35898,Te=35901,Ae=34843,ve=34837,xe=36221,Re=36239,_e=36215,Fe=36233,he=36209,ge=36227,Pe=32856,Ue=35907,Be=36759,we=32855,Ie=32854,Se=32857,Ce=34842,Le=34836,Oe=36220,Ne=36238,De=36975,Me=36214,ze=36232,Ge=36226,Xe=36208,ke=33189,We=33190,Ye=36012,Ve=36013,je=35056,Ke=5120,He=5121,Ze=5122,qe=5123,$e=5124,Je=5125,Qe=5126,er=32819,rr=32820,tr=33635,nr=5131,ar=36193,or=33640,ir=35899,ur=35902,fr=36269,lr=34042,sr=33319,cr=33320,mr=6403,yr=36244,Er=36248,br=36249,dr={},pr=dr;pr[G]={n:1},pr[W]={n:1},pr[Y]={n:2},pr[X]={n:3},pr[k]={n:4},pr[mr]={n:1},pr[yr]={n:1},pr[sr]={n:2},pr[cr]={n:2},pr[X]={n:3},pr[Er]={n:3},pr[k]={n:4},pr[br]={n:4},pr[V]={n:1},pr[j]={n:2};var Tr={};!function(){var e=Tr;e[G]={e:G,r:!0,t:!0,a:[1,2,2,4],type:[He,nr,ar,Qe]},e[W]={e:W,r:!0,t:!0,a:[1,2,2,4],type:[He,nr,ar,Qe]},e[Y]={e:Y,r:!0,t:!0,a:[2,4,4,8],type:[He,nr,ar,Qe]},e[X]={e:X,r:!0,t:!0,a:[3,6,6,12,2],type:[He,nr,ar,Qe,tr]},e[k]={e:k,r:!0,t:!0,a:[4,8,8,16,2,2],type:[He,nr,ar,Qe,er,rr]},e[K]={e:mr,r:!0,t:!0,a:1,type:He},e[H]={e:mr,r:!1,t:!0,a:1,type:Ke},e[Z]={e:mr,r:!1,t:!0,a:[4,2],type:[Qe,nr]},e[q]={e:mr,r:!1,t:!1,a:4,type:Qe},e[$]={e:yr,r:!0,t:!1,a:1,type:He},e[J]={e:yr,r:!0,t:!1,a:1,type:Ke},e[le]={e:yr,r:!0,t:!1,a:2,type:qe},e[se]={e:yr,r:!0,t:!1,a:2,type:Ze},e[ce]={e:yr,r:!0,t:!1,a:4,type:Je},e[me]={e:yr,r:!0,t:!1,a:4,type:$e},e[ne]={e:sr,r:!0,t:!0,a:2,type:He},e[ae]={e:sr,r:!1,t:!0,a:2,type:Ke},e[oe]={e:sr,r:!1,t:!0,a:[8,4],type:[Qe,nr]},e[ie]={e:sr,r:!1,t:!1,a:8,type:Qe},e[ue]={e:cr,r:!0,t:!1,a:2,type:He},e[fe]={e:cr,r:!0,t:!1,a:2,type:Ke},e[Q]={e:cr,r:!0,t:!1,a:4,type:qe},e[ee]={e:cr,r:!0,t:!1,a:4,type:Ze},e[re]={e:cr,r:!0,t:!1,a:8,type:Je},e[te]={e:cr,r:!0,t:!1,a:8,type:$e},e[ye]={e:X,r:!0,t:!0,a:3,type:He},e[Ee]={e:X,r:!1,t:!0,a:3,type:He},e[be]={e:X,r:!0,t:!0,a:[3,2],type:[He,tr]},e[de]={e:X,r:!1,t:!0,a:3,type:Ke},e[pe]={e:X,r:!1,t:!0,a:[12,6,4],type:[Qe,nr,ir]},e[Te]={e:X,r:!1,t:!0,a:[12,6,4],type:[Qe,nr,ur]},e[Ae]={e:X,r:!1,t:!0,a:[12,6],type:[Qe,nr]},e[ve]={e:X,r:!1,t:!1,a:12,type:Qe},e[xe]={e:Er,r:!1,t:!1,a:3,type:He},e[Re]={e:Er,r:!1,t:!1,a:3,type:Ke},e[_e]={e:Er,r:!1,t:!1,a:6,type:qe},e[Fe]={e:Er,r:!1,t:!1,a:6,type:Ze},e[he]={e:Er,r:!1,t:!1,a:12,type:Je},e[ge]={e:Er,r:!1,t:!1,a:12,type:$e},e[Pe]={e:k,r:!0,t:!0,a:4,type:He},e[Ue]={e:k,r:!0,t:!0,a:4,type:He},e[Be]={e:k,r:!1,t:!0,a:4,type:Ke},e[we]={e:k,r:!0,t:!0,a:[4,2,4],type:[He,rr,or]},e[Ie]={e:k,r:!0,t:!0,a:[4,2],type:[He,er]},e[Se]={e:k,r:!0,t:!0,a:4,type:or},e[Ce]={e:k,r:!1,t:!0,a:[16,8],type:[Qe,nr]},e[Le]={e:k,r:!1,t:!1,a:16,type:Qe},e[Oe]={e:br,r:!0,t:!1,a:4,type:He},e[Ne]={e:br,r:!0,t:!1,a:4,type:Ke},e[De]={e:br,r:!0,t:!1,a:4,type:or},e[Me]={e:br,r:!0,t:!1,a:8,type:qe},e[ze]={e:br,r:!0,t:!1,a:8,type:Ze},e[Ge]={e:br,r:!0,t:!1,a:16,type:$e},e[Xe]={e:br,r:!0,t:!1,a:16,type:Je},e[ke]={e:V,r:!0,t:!1,a:[2,4],type:[qe,Je]},e[We]={e:V,r:!0,t:!1,a:4,type:Je},e[Ye]={e:V,r:!0,t:!1,a:4,type:Qe},e[je]={e:j,r:!0,t:!1,a:4,type:lr},e[Ve]={e:j,r:!0,t:!1,a:4,type:fr},Object.keys(e).forEach(function(r){var t=e[r];if(t.bytesPerElementMap={},Array.isArray(t.a))t.a.forEach(function(e,r){var n=t.type[r];t.bytesPerElementMap[n]=e});else{var n=t.type;t.bytesPerElementMap[n]=t.a}})}();var Ar=function(){function e(e){if(!r){r={};for(var t in e)"number"==typeof e[t]&&(r[e[t]]=t)}}var r;return function(t,n){return e(t),r[n]||"0x"+n.toString(16)}}(),vr={},xr=window.WebGLSampler||function(){};return{setDefaults_:c,createSampler:p,createSamplers:T,setSamplerParameters:d,createTexture:C,setEmptyTexture:S,setTextureFromArray:I,loadTextureFromUrl:U,setTextureFromElement:F,setTextureFilteringForSize:v,setTextureParameters:b,setDefaultTextureColor:s,createTextures:N,resizeTexture:L,getNumComponentsForFormat:u,getBytesPerElementForInternalFormat:t}}.apply(r,n),!(void 0!==a&&(e.exports=a))},function(e,r,t){var n,a;n=[t(6)],a=function(e){"use strict";function r(r,t,n){var a=r.createVertexArray();return r.bindVertexArray(a),t.length||(t=[t]),t.forEach(function(t){e.setBuffersAndAttributes(r,t,n)}),r.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:a}}function t(r,t,n,a){var o=r.createVertexArray();return r.bindVertexArray(o),e.setAttributes(t,n),a&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),r.bindVertexArray(null),o}function n(e,r,n){return t(e,r.attribSetters||r,n.attribs,n.indices)}return{createVertexArrayInfo:r,createVAOAndSetAttributes:t,createVAOFromBufferInfo:n}}.apply(r,n),!(void 0!==a&&(e.exports=a))}])});